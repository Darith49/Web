{% load static %}
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>Electro - Electronics Website Template</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">

        {% include 'Electro/IncludePath/Head.html' %}
    </head>

    <body>

        <!-- Spinner Start -->
        {% include 'Electro/IncludePath/Spinner.html' %}
        <!-- Spinner End -->


        <!-- Topbar Start -->
        {% include 'Electro/IncludePath/Topbar.html' %}
        <!-- Topbar End -->

        <!-- Navbar & Hero Start -->
        {% include 'Electro/IncludePath/Navbar&Hero.html' %}
        <!-- Navbar & Hero End -->

        <!-- Single Page Header start -->
        <div class="container-fluid page-header py-5">
            <h1 class="text-center text-white display-6 wow fadeInUp" data-wow-delay="0.1s">Checkout</h1>
            <ol class="breadcrumb justify-content-center mb-0 wow fadeInUp" data-wow-delay="0.3s">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Pages</a></li>
                <li class="breadcrumb-item active text-white">Checkout</li>
            </ol>
        </div>
        <!-- Single Page Header End -->

        <!-- Searvices Start -->
        {% include 'Electro/IncludePath/Searvices.html' %}
        <!-- Searvices End -->


        <!-- Checkout Page Start -->
        <div class="container-fluid bg-light overflow-hidden py-5">
            <div class="container py-5">
                <h1 class="mb-4 wow fadeInUp" data-wow-delay="0.1s">Billing details</h1>
                <form method="post" action="{% url 'billing_add' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row g-5">
                        <div class="col-md-12 col-lg-6 col-xl-6 wow fadeInUp" data-wow-delay="0.1s">
                            <div class="row">
                                <div class="col-md-12 col-lg-6">
                                    <div class="form-item w-100">
                                        <label class="form-label my-3">First Name<sup>*</sup></label>
                                        <input type="text" class="form-control" name="first_name">
                                    </div>
                                </div>
                                <div class="col-md-12 col-lg-6">
                                    <div class="form-item w-100">
                                        <label class="form-label my-3">Last Name<sup>*</sup></label>
                                        <input type="text" class="form-control" name="last_name">
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="form-item">
                                <label class="form-label my-3">Company Name<sup>*</sup></label>
                                <input type="text" class="form-control">
                            </div> -->
                            <div class="form-item">
                                <label class="form-label my-3">Address <sup>*</sup></label>
                                <input type="text" class="form-control" placeholder="House Number Street Name" name="address">
                            </div>
                            <div class="form-item">
                                <label class="form-label my-3">Town/City<sup>*</sup></label>
                                <input type="text" class="form-control" name="town">
                            </div>
                            <div class="form-item">
                                <label class="form-label my-3">Country<sup>*</sup></label>
                                <input type="text" class="form-control" name="country">
                            </div>
                            <div class="form-item">
                                <label class="form-label my-3">Postcode/Zip<sup>*</sup></label>
                                <input type="text" class="form-control" name="postcode">
                            </div>
                            <div class="form-item">
                                <label class="form-label my-3">Mobile<sup>*</sup></label>
                                <input type="tel" class="form-control" name="phone">
                            </div>
                            <div class="form-item">
                                <label class="form-label my-3">Email Address<sup>*</sup></label>
                                <input type="email" class="form-control" name="email">
                            </div>
                            <div class="form-check my-3">
                                <input type="checkbox" class="form-check-input" id="Account-1" name="Accounts" value="Accounts">
                                <label class="form-check-label" for="Account-1">Create an account?</label>
                            </div>
                            <hr>
                            <div class="form-check my-3">
                                <input class="form-check-input" type="checkbox" id="Address-1" name="Address" value="Address">
                                <label class="form-check-label" for="Address-1">Ship to a different address?</label>
                            </div>
                            <div class="form-item">
                                <textarea name="text" class="form-control" spellcheck="false" cols="30" rows="11" placeholder="Oreder Notes (Optional)"></textarea>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-6 col-xl-6 wow fadeInUp" data-wow-delay="0.3s">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr class="text-center">
                                            <th scope="col" class="text-start">Name</th>
                                            <th></th>
                                            <th scope="col">Price</th>
                                            <th scope="col">Quantity</th>
                                            <th scope="col">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        
                                        {% for id, item in cart.items %}
                                        <tr class="text-center">
                                            <th scope="row" class="text-start py-4">
                                                {{item.productName}}
                                            </th>
                                            <td class="py-4"></td>
                                            <td class="py-4">${{item.price}}</td>
                                            <td class="py-4 text-center">{{item.quantity}}</td>
                                            <td class="py-4">${{item.total}}</td>
                                            <td>{{ item.quantity|floatformat:2|add:item.price|floatformat:2 }}</td>
                                        </tr>
                                        {% endfor %}
                                        <tr>
                                            <th scope="row">
                                            </th>
                                            <td class="py-4"></td>
                                            <td class="py-4"></td>
                                            <td class="py-4">
                                                <p class="mb-0 text-dark py-2">Subtotal</p>
                                            </td>
                                            <td class="py-4">
                                                <div class="py-2 text-center border-bottom border-top">
                                                    <p class="mb-0 text-dark">${{total_price}}</p>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">
                                            </th>
                                            <td class="py-4">
                                                <p class="mb-0 text-dark text-uppercase py-2">TOTAL</p>
                                            </td>
                                            <td class="py-4"></td>
                                            <td class="py-4"></td>
                                            <td class="py-4">
                                                <div class="py-2 text-center border-bottom border-top">
                                                    <p class="mb-0 text-dark">${{total_price}}</p>
                                                    <input hidden type="text" value="{{ total_price }}" name="total">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <br>
                                                <a target="_blank" href="https://link.payway.com.kh/aba?id=5CAAF2B5C5F9&dynamic=true&source_caller=sdk&pid=af_app_invites&link_action=abaqr&shortlink=83thhrrr&amount={{total_price}}&created_from_app=true&acc=077855582&af_siteid=968860649&userid=5CAAF2B5C5F9&code=989924&c=abaqr&af_referrer_uid=1730445244449-4538543">Pay Now</a>
                                                <br><br>
                                                <p>QR Code Image: </p>
                                                <img src="{% static 'img/QRcode/QRcode1.jpg' %}" width="200px"><br><br>
                                                <p>Upload Your Receipt:</p>
                                                <input type="file" name="qr_code_image"><br>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- <div class="row g-4 text-center align-items-center justify-content-center border-bottom py-2">
                                
                            </div> -->
                            
                            <div class="row g-4 text-center align-items-center justify-content-center pt-4">
                                <button type="submit" class="btn btn-primary border-secondary py-3 px-4 text-uppercase w-100 text-primary">Place Order</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- Checkout Page End -->

        <!-- Footer Start -->
        {% include 'Electro/IncludePath/Footer.html' %}
        <!-- Footer End -->

        
        <!-- Copyright Start -->
        {% include 'Electro/IncludePath/Copyright.html' %}
        <!-- Copyright End -->


        <!-- Back to Top -->
        {% include 'Electro/IncludePath/BackToTop.html' %} 

        
    <!-- JavaScript Libraries -->
    {% include 'Electro/IncludePath/JavaScript-Libraries.html' %}
    

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js' %}"></script>
    </body>

</html>